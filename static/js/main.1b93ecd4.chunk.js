(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{184:function(t,e,a){t.exports=a(388)},189:function(t,e,a){},191:function(t,e,a){},205:function(t,e,a){},206:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDQtMzBUMTc6MTI6MzQrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDQtMzBUMTc6MTI6MzQrMDk6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTMwVDE3OjEyOjM0KzA5OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmVhYzFmZDJkLWE4N2QtNGJiZi05MWM3LTBiODc3YTE4NjEyYiIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmFhMTY4Yzg3LTQ1MWItNjg0NC04NmE2LTYxZDY3NzAwYTM1MCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjIyMjM0ZjNjLTBlOTAtNGNjZC04ZTFmLTUwM2ViYjJiYzNkNSIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjIyMzRmM2MtMGU5MC00Y2NkLThlMWYtNTAzZWJiMmJjM2Q1IiBzdEV2dDp3aGVuPSIyMDIwLTA0LTMwVDE3OjEyOjM0KzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZWFjMWZkMmQtYTg3ZC00YmJmLTkxYzctMGI4NzdhMTg2MTJiIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTMwVDE3OjEyOjM0KzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7gJFOnAAAGTklEQVRYhdXZW2hc1xUG4O+cOSONRpbHiXxpHdmSHXJx6sSxSZs8RKF1cAnBCWkpTSmU0EIvhEJpcWmeSp4KpSnNQwm9QR8KhYRSQmJMqIkJlimmFNtJnEsTrFiy5DaR5ViRNRppzszpw56RRmOnjWK7uD8M52Gfvf7/rL3X2mvtiQxnPgY24C7cji3YjPUoNcancBrDeAPHcBinlksULVPgVtyD+2VulOlBt0wROU1TEaiJlDEjMi3yFvbhII5fboGfwufxkMwNIp8cSNjaweaEvoQ1ObqDMDMZEzXGUoZTjs9zMkXmnyJv41n8Ba9dqsASduJRmduwti/h7gI7u9jRwYY8a+OLT36vzqkqR+Y5MMuhShCN90RewVM4IGyJZQscwMMyX8dNn0j4bCf3FflMIXiuM/pP37aIuSx48m8VXijz0hz/CkL/IfJ7PI2TyxF4I76FrxUia7d38HA3DxTZnP9ooj4Mw1WeL/P0DEfnqWTewx/wG7z1UQT247v4ZilWureLR3u4t+tCsjTjXMoHKbM1qg1T+YiuHCsTViUkF/H0i7M8NR2eU3VT+C1+iZHW95K2eT34Ch4pxUoPFflBids6LiSYrnF0mgOTHPmAkQqTYdn0JvQX2LGSnb1s76Ent3T+vV0hsHoini0rTdU9gjPCvpy+mAdzeAA/7YzcuLvI46tCpLZ7bWyOvRP86V1ePs9M2vBeS5rJR3QnbFvBl9axew19nRd68/g8j59jb5m5zFv4EZ5HLYj63uPNd2/Bj2U+fUcnj5W4s3Ch516Y5LG3+d04w7NU6tQXP7eZA9WFsZEKL57l2DTrOrihuNTe2hyrY16rMp7qFVmNv2OCpUu8S2bbdQlfXcFgm7haxq/HeHKUd8qkF2r/UMzXOXiWUxVOzvLtPnItnhwsBM6xlPHUNpFdGjmymcG24ovoHSzwYDEsUSt+Nc4TI7w9E5Z5uUizMPeJkWCrFfkocDac0tvQsrVV4N3qbl6fiO8rsrEtdPad4RcjwXNYWMZloTHnnXKwte/M0uGNScix6xOxuptxd1PgBpndUeSawQJ3dS6qhtEKT5zkxMwliGsTeWIm2BytLA7FAvdggShyjcxubIiFquSWjXnJri4GWrw3XeO5CYbOWRIAl4SGnaFzwfZ0bXFoIGFXFxvzEiFo74qFkql4awc7OhePrzQLee6Zd0nrLjvSerB9dHpxT3dGQcOtIbUVcXuMLTLd1+dDVdLEVDUk4VemXR7PtSMKtg9MBq4m+hKuzyPTjS0xNssU+nL0tmy+qVo4Ic7XXDGcb3BMtXD0xvTlkClgcyxUwsmaeGlwzNYZmQv570qhlgWO2ZYtFGNNEJJgfYySjGJbTVetc6Zq8fi6EsgCR7VtjxfjBd7Sh5SaVw9iTIkot31FPmZ13pUJkCaiwJFvc1O5vsA7FQvdVzrReuijK6a/c+mZebmRiwJHV4vAOiaCkBSnYwyLVMZqTLYoLOVCPbeirY67nFjR4Ci1cEzWGashUsFwjDdEZk5UFxqaIDAfis3belyZQMmC7Z29gauJsZQTVURm8EYsNNXlV+c5MhcaHEJhub2HL68juQKhlMTB9vaexSJ2LgsaXp0HZRyLhY7/9dGqdP9so39toCfHg2sYXBW++LJ4smFncFWw3doKnEzZP8toVYrXcTjGKZG9Web9oQqH55YGy8YCewa4vruF4FLECbb2DATbTdQF7qEKWeZ9kb041Vy8Q2Jvnk7VXygz2lYu37+a7/ezqVmufxyRjTmbisHW/auXDo+moWc+naqLvYlDLJ5ux/FnTA5VeK682EI28Z3r2NPPDd0XbyP/G5IozN3TH2y1opoFzqFQH042tBxvFQj7RV4eT/nj+YWXF5CLeHQDT97EPdfSsYzA6YjDnCdvCjbac+tQJXCOp4i8jP0LvC1d3VnhVNlxpq53KuOWfOi6WrGpi89dG57lWqhEallj37a1nSvz3FkKS/rDgRCx8UXazp99wMEKtXCz8BP8tWmtVWCGcSQ1tp2u6T5bD1cd61pExlG4LdiyIvzW5enOUYhJckHUpgJ3rOQLa/lGH/etDi1nu7hX5vn5FPtmmclMCE37M1hYv6v+6uP/8vKoiQFX8fVbE1f1BWYrrtor4HZctZfo7fif/Q3xb5neoUJOdkHEAAAAAElFTkSuQmCC"},207:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0MzUyLCAyMDIwLzAxLzMwLTE1OjUwOjM4ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDQtMzBUMTc6MzU6MzkrMDk6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDQtMzBUMTc6MzU6MzkrMDk6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA0LTMwVDE3OjM1OjM5KzA5OjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmVhMGIyZTllLTdjYzMtNDgzYi1hMzU3LTZkOTkxOTczYTFjMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjhiMzhmMGFjLTM0MzEtOTU0Yy05ODY4LTU3Yjg1NzU5MjhkZSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjY5NTE2Y2I0LTY3MDYtNGEwYS1iMTEyLWM2ZjM1NWU1NzhmMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Njk1MTZjYjQtNjcwNi00YTBhLWIxMTItYzZmMzU1ZTU3OGYwIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTMwVDE3OjM1OjM5KzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZWEwYjJlOWUtN2NjMy00ODNiLWEzNTctNmQ5OTE5NzNhMWMzIiBzdEV2dDp3aGVuPSIyMDIwLTA0LTMwVDE3OjM1OjM5KzA5OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7u3hjAAAACmklEQVRYhe3Yz4vUdRzH8cd8xl13J3eF2lpyQTzMIrpgKEGHLkubIF1CDx466B8QevTQJfEgaEGCeCsvBiW0bURQ1MHyIoGCKFGgaYGyIJGj4q/Z2Z0On+/gzuyEs/v5inOYJwwM8/3y4vV5vz+f9/v9mUK9XtfNhOdt4Gn0DKbSM5hKz2AqPYOprCr81Pb3fmzGFF7HJmzAAG7hD5zHWZzDnSUKZQW8gjezzzZsxEu4h6u4nOn8jD9Ra5Up+HFJq1uHPdiZCa5GH4rZ8zrm8Bj/4Aecxi8tBndiF97C8CKdBjVUM52L+BqnWhfbanALDmA7Xkah1X0b7uI6jmJa2QvYi30YRakDjXkxM9P4BNcaD1YtemkTPhAj19+BaINhvIaDgiG8iPcxtgyNIl4VF1bEYdzgSQTX4ZCY2r72Gh0Q3DRqtZKRjmLfnns4jo9xO2SGdmF3kjlYMOaukaVbfVkMiYF6G30BZTGtg0myDR7hYbLKKN5FOWASWzXvx5UzLw+DfXgDk0GsT2mpbaWai8pabAuYEGtUfszlorIWEwHj8kpvg4VcVPoxHsQ6tvKi8GwZDqiI7asbqQRc0aZJJ1F8+isdUMWVgEtiw86PfGpCBZcCLojlNT+W08n/n39xIYgz3Xl5FYeiPHpSVZwzzwZxVJrBg2RZormBZJVZfIvrQTwg3+BzqT2g6C/DZhOr6h18hjOoNe4kt3AMX1j5gflN3YdKjir4O8HcSXyafW9a61UcEaP4js4Hzgp+x0cWfCcm+SH2Yz3WdKBREwfU0zghphjt7yQjeE8cwTaLI/ug5ur2SNyzs/geX+HXJpWyHZnGlDhllzT3/LlsIffFSjKDL7WchXYG6aZbXe8PzER6BlPpGUyl6w3+BxCAnQTqiFuZAAAAAElFTkSuQmCC"},388:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),o=a(36),s=a.n(o),c=(a(189),a(15)),r=a.n(c),l=a(26),u=a(6),h=a(28),d=a(17),m=a(13),p=a(4),g=a(19),b=a(18);a(191);var w=function(t){return i.a.createElement("div",null,i.a.createElement("div",{className:"header"},i.a.createElement("div",{style:{margin:"auto",alignContent:"center"}},i.a.createElement("p",{style:{textAlign:"center"}},i.a.createElement("img",{src:"/logo.png",alt:"Bikeable",style:{margin:"auto",padding:20,paddingBottom:16,align:"middle"},width:"160px"})))))},f=a(145),v=a.n(f),L=(a(205),function(t,e){var a=t.trim().toLowerCase(),n=a.length;return e.filter((function(t){return t.toLowerCase().slice(0,n)===a}))});function k(){return!0}var y=function(t){return i.a.createElement("div",null,t)},S=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).getSuggestionValue=function(e){return t.props.handleLocationChange(e),e},t.onChange=function(e,a){var n=a.newValue;t.setState({value:n})},t.onSuggestionsFetchRequested=function(e){var a=e.value;t.setState({suggestions:L(a,Object.keys(t.props.locationCoordinates).map((function(t,e){return t}))).filter((function(t,e){return e<5}))})},t.onSuggestionsClearRequested=function(){t.setState({suggestions:[]})},t.state={value:"",suggestions:[]},t}return Object(m.a)(a,[{key:"render",value:function(){var t=this.state,e=t.value,a=t.suggestions,n={placeholder:"Search Locations",value:e,onChange:this.onChange};return i.a.createElement(v.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,shouldRenderSuggestions:k,renderSuggestion:y,inputProps:n})}}]),a}(i.a.Component);var M=function(t){return i.a.createElement("div",null,i.a.createElement("div",{className:"mobile-container",style:{overflow:"visible",padding:"0px 10px"}},t.hasLoaded&&i.a.createElement("h4",{style:{padding:"5px 0px"}},i.a.createElement("span",{style:{color:"#aaaaaa"}},"Around "),t.selectedLocation),i.a.createElement(S,Object.assign({},t,{handleLocationChange:t.handleLocationChange}))))},E=a(10),I=a.n(E),j=a(394),A=a(395),D=a(391),C=a(392),T=a(393),O=new I.a.Icon({iconUrl:a(206),iconAnchor:null,iconSize:new I.a.Point(20,20)}),z=new I.a.Icon({iconUrl:a(207),iconAnchor:null,iconSize:new I.a.Point(30,30)});function W(){return(W=Object(l.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("station_"+e).scrollIntoView({behavior:"smooth"});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var N=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).mapRef=i.a.createRef(),t.state={newLocation:null},t.resetNewLocation=t.resetNewLocation.bind(Object(p.a)(t)),t.NewLocation=t.NewLocation.bind(Object(p.a)(t)),t}return Object(m.a)(a,[{key:"resetNewLocation",value:function(){this.setState({newLocation:null})}},{key:"NewLocation",value:function(t){this.setState({newLocation:t.latlng})}},{key:"componentDidMount",value:function(){var t=this.mapRef.current.leafletElement;this.setState({mapRef:t})}},{key:"shouldComponentUpdate",value:function(t,e){return t.showMap!==this.props.showMap||t.stations!==this.props.stations||e.newLocation!==this.state.newLocation}},{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"map-container",style:{height:"Desktop"===this.props.view?"calc(100vh - 175px)":300}},i.a.createElement(j.a,{center:[this.props.selectedLocationLatitude,this.props.selectedLocationLongitude],zoom:16,ref:this.mapRef,onClick:this.NewLocation,onViewportChange:this.resetNewLocation},i.a.createElement(A.a,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),this.props.stations.map((function(e){return t.props.status[e]})).map((function(e){return i.a.createElement(D.a,{key:e.id,icon:z,position:[e.latitude,e.longitude],onClick:function(a){var n,i,o;t.props.handleMapClick(a,e.id),function(t){W.apply(this,arguments)}(e.id),n=t.state.mapRef,i=e.latitude,o=e.longitude,n.setView([i,o],17),t.resetNewLocation()}},i.a.createElement(C.a,{direction:"top",offset:[0,-4],opacity:.4,permanent:!0},i.a.createElement("h4",{style:{color:"black",opacity:1}},e.bikes,"/",e.docks)))})),i.a.createElement(D.a,{icon:O,position:[this.props.selectedLocationLatitude,this.props.selectedLocationLongitude]}),this.state.newLocation&&i.a.createElement(D.a,{icon:O,opacity:.5,position:[this.state.newLocation.lat,this.state.newLocation.lng]}),this.state.newLocation&&i.a.createElement(T.a,{position:[this.state.newLocation.lat,this.state.newLocation.lng],onClose:this.resetNewLocation},i.a.createElement("h4",{onClick:function(e){t.props.handleMapLocationChange(t.state.newLocation.lat,t.state.newLocation.lng)},style:{color:"black",cursor:"pointer"}},"set location")))))}}]),a}(i.a.Component);var Z=function(t){return i.a.createElement("div",null,t.hasLoaded?i.a.createElement("div",null,i.a.createElement("div",{className:"mobile-container",style:{color:"#aaaaaa"}},i.a.createElement("h4",{style:{float:"left"}},t.time,", ",t.date),i.a.createElement("h4",{style:{float:"right"}},t.temperature,", ",t.weather)),i.a.createElement(M,Object.assign({},t,{handleLocationChange:t.handleLocationChange})),i.a.createElement("div",{className:"toggle",style:{marginTop:15},onClick:t.handleMapToggle},t.showMap?"hide map \u2227":"show map \u2228"),i.a.createElement("div",{style:{clear:"both"}}),t.showMap&&i.a.createElement(N,Object.assign({},t,{handleMapClick:t.handleMapClick,handleMapLocationChange:t.handleMapLocationChange})),i.a.createElement("div",{style:{height:5}})):i.a.createElement("h2",{style:{textAlign:"center"}},"Loading..."))};var G=function(t){return i.a.createElement("div",{className:"toggle",onClick:function(){return t.handleShowChange(t.stationID)}},t.showInfo[t.stationID]?"less info \u2227":"more info \u2228")};var R=function(t,e,a){var n=parseInt(a/6e4),i="0 minutes ago";i=0===n?"just now.":1===n?"1 minute ago.":n.toString()+" minutes ago.";var o=e-t;return 0===o?"Number of bikes is same as when station status was first loaded "+i:o>1?o.toString()+" more bikes since station status was first was loaded "+i:1===o?"1 more bike since station status was first was loaded "+i:o<-1?(-o).toString()+" fewer bikes since station status was first was loaded "+i:-1===o?"1 fewer bike since station status was first was loaded "+i:void 0},Y=a(9),U=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(t,e){return t.showInfo!==this.props.showInfo||t.dayLog!==this.props.dayLog}},{key:"render",value:function(){var t=this,e=this.props.showInfo[this.props.stationID]&&this.props.dayLog[this.props.stationID]&&this.props.dayLog[this.props.stationID].map((function(t){return{time:t.datetime.substring(t.datetime.length-5),bikes:t.bikes}})).slice(Math.max(this.props.dayLog[this.props.stationID].length-288,0)),a=e&&e.map((function(t){return t.time})).filter((function(t){return"00"===t.substring(t.length-2)})).concat(e.map((function(t){return t.time}))[e.length-1]),n=this.props.status&&[0,10,20,30,40,50,60,70,80,90,100].filter((function(e){return e<t.props.status[t.props.stationID].docks})).concat([this.props.status[this.props.stationID].docks]),o=e&&e.map((function(t){return t.time}))[e.length-1];return i.a.createElement("div",null,i.a.createElement("h4",{align:"center"},"bike count over past 24 hours (every 5 mins)"),i.a.createElement(Y.g,{width:"100%",height:200},i.a.createElement(Y.e,{data:e,margin:{top:5,right:30,bottom:5,left:0}},i.a.createElement(Y.a,{stroke:"#222222"}),i.a.createElement(Y.f,{x:"00:00",stroke:"#444444",label:i.a.createElement(Y.c,{angle:270,offset:10,value:"midnight",position:"insideLeft",style:{textAnchor:"middle",fontSize:"80%",fill:"#444444"}})}),i.a.createElement(Y.f,{x:"12:00",stroke:"#444444",label:i.a.createElement(Y.c,{angle:270,offset:10,value:"noon",position:"insideLeft",style:{textAnchor:"middle",fontSize:"80%",fill:"#444444"}})}),i.a.createElement(Y.f,{x:o,stroke:"white",label:i.a.createElement(Y.c,{angle:270,offset:10,value:"current time",position:"insideLeft",style:{textAnchor:"middle",fontSize:"80%",fill:"#444444"}})}),i.a.createElement(Y.d,{dot:function(t){var e=t.payload,a=t.cx,n=t.cy,s=t.key;return e.time===o&&i.a.createElement(Y.b,{key:s,cx:a,cy:n,r:5,fill:"white"})},isAnimationActive:!0,type:"monotone",dataKey:"bikes",stroke:"#00deff",strokeWidth:5,animationDuration:500}),i.a.createElement(Y.i,{dataKey:"time",ticks:a}),i.a.createElement(Y.j,{dataKey:"bikes",domain:[0,this.props.status[this.props.stationID].docks],ticks:n}),i.a.createElement(Y.h,{wrapperStyle:{color:"black"},itemStyle:{color:"black"},animationEasing:"ease"}))))}}]),a}(i.a.Component),x=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).makeDayArray=n.makeDayArray.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"makeDayArray",value:function(t){var e=this;return t.map((function(t,a){return-1===t?{time:e.props.weekLog[e.props.stationID].times[a],bikes:void 0}:{time:e.props.weekLog[e.props.stationID].times[a],bikes:t}})).filter((function(t){return void 0!==t}))}},{key:"shouldComponentUpdate",value:function(t,e){return t.showInfo!==this.props.showInfo||t.weekLog!==this.props.weekLog}},{key:"render",value:function(){var t=this,e=[{name:"Monday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesMonday)},{name:"Tuesday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesTuesday)},{name:"Wednesday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesWednesday)},{name:"Thursday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesThursday)},{name:"Friday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesFriday)},{name:"Saturday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesSaturday)},{name:"Sunday",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesSunday)},{name:"Today",data:this.makeDayArray(this.props.weekLog[this.props.stationID].bikesToday)}],a=e&&this.props.weekLog[this.props.stationID].times.filter((function(t){return"00"===t.substring(t.length-2)})).concat(e.map((function(t){return t.time}))[e.length-1]),n=this.props.status&&[0,10,20,30,40,50,60,70,80,90,100].filter((function(e){return e<t.props.status[t.props.stationID].docks})).concat([this.props.status[this.props.stationID].docks]),o=e&&e[7].data.filter((function(t){return void 0!==t})).filter((function(t){return void 0!==t.bikes})),s=o[o.length-1].time,c=function(t){var e=t.payload,a=t.cx,n=t.cy,o=t.key;return e.time===s&&i.a.createElement(Y.b,{key:o,cx:a,cy:n,r:5,fill:"white"})};return i.a.createElement("div",null,i.a.createElement("h4",{align:"center"},"bike count of past week (every 30 mins)"),i.a.createElement(Y.g,{width:"100%",height:200},i.a.createElement(Y.e,{data:e,margin:{top:5,right:30,bottom:5,left:0}},i.a.createElement(Y.a,{stroke:"#222222"}),i.a.createElement(Y.f,{x:s,stroke:"white",label:i.a.createElement(Y.c,{angle:270,offset:10,value:"current time",position:"insideLeft",style:{textAnchor:"middle",fontSize:"80%",fill:"#444444"}})}),i.a.createElement(Y.i,{dataKey:"time",allowDuplicatedCategory:!1,ticks:a}),i.a.createElement(Y.j,{dataKey:"bikes",domain:[0,this.props.status[this.props.stationID].docks],ticks:n}),e.map((function(t){return i.a.createElement(Y.d,{dataKey:"bikes",data:t.data,name:t.name,key:t.name,dot:"Today"===t.name&&c,isAnimationActive:!0,type:"monotone",stroke:"#00deff",strokeWidth:"Today"===t.name?5:4,animationDuration:500,opacity:"Today"===t.name?1:.5})})),i.a.createElement(Y.h,{wrapperStyle:{color:"black"},itemStyle:{color:"black"},animationEasing:"ease"}))))}}]),a}(i.a.Component),F=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(t,e){return t.showInfo!==this.props.showInfo||t.timeSinceLoad-this.props.timeSinceLoad>100}},{key:"render",value:function(){return i.a.createElement("div",null,this.props.showInfo[this.props.stationID]&&i.a.createElement("div",{className:"additional-station-info"},i.a.createElement("hr",{style:{borderColor:"#555555"}}),i.a.createElement("h4",null,"Additional Info:"),i.a.createElement("p",{style:{color:"#aaaaaa"}},this.props.timeSinceUpdate>3e3?"Updated ".concat(parseInt(this.props.timeSinceUpdate/1e3)," seconds ago."):"Updated just now. "," ",R(this.props.initialBikeCount[this.props.stationID],this.props.status[this.props.stationID].bikes,this.props.timeSinceLoad)),i.a.createElement("br",null),this.props.dayLog[this.props.stationID]?i.a.createElement(U,this.props):i.a.createElement("h4",{align:"center"},"Loading past day's logs...",i.a.createElement("div",{style:{height:200}})),this.props.weekLog[this.props.stationID]?i.a.createElement(x,this.props):i.a.createElement("h4",{align:"center"},"Loading past week's logs...",i.a.createElement("div",{style:{height:200}}))))}}]),a}(i.a.Component);var B=function(t){return i.a.createElement("div",null,i.a.createElement("div",{style:{height:3}}),t.stationID!==t.stations[t.stations.length-1]&&Math.floor(t.status[t.stationID].distance/60)<Math.floor(t.status[t.stations[t.index+1]].distance/60)?i.a.createElement("div",null,i.a.createElement("div",{className:"walk-container"},i.a.createElement("p",{style:{paddingLeft:5,paddingRight:5,position:"absolute",right:20,backgroundColor:"black"}},Math.floor(t.status[t.stations[t.index+1]].distance/60)," minute walk")),i.a.createElement("hr",{style:{borderColor:"#222222",borderStyle:"dashed",marginTop:8,position:"absolute",left:-4,width:"100%",zIndex:-5}}),i.a.createElement("div",{style:{height:10}})):i.a.createElement("div",null,i.a.createElement("div",{className:"walk-container"},i.a.createElement("p",{style:{position:"relative"}}," ",i.a.createElement("br",null))),i.a.createElement("div",{style:{marginTop:-8}})),i.a.createElement("div",{style:{height:11}}))};var J=function(t){var e=Math.max(0,Math.floor(50-t.timeSinceMapClick/50)),a=e+","+1.5*e+","+2*e;return i.a.createElement("div",null,i.a.createElement("div",{className:"station-container",style:{backgroundColor:t.mapStation===t.stationID&&"rgb("+a+")"}},i.a.createElement("h2",null,t.status[t.stationID].name,": ",t.status[t.stationID].bikes,"/",t.status[t.stationID].docks," Bikes"),i.a.createElement("div",{style:{float:"left"}},i.a.createElement("p",{style:{color:"#aaaaaa"}},t.status[t.stationID].distance," meters, ",i.a.createElement("a",{style:{color:"#00deff"},href:t.status[t.stationID].mapsURL},"Directions"),", ",i.a.createElement("a",{style:{color:"#00deff"},href:t.status[t.stationID].appURL},"Use"),".")),i.a.createElement(G,t),i.a.createElement(F,t)),"Mobile"===t.view?i.a.createElement(B,t):i.a.createElement("div",{style:{height:20}}))};var P=function(t){return i.a.createElement("div",null,t.stations.map((function(e,a){return i.a.createElement("div",{id:"station_"+e,key:e},i.a.createElement(J,Object.assign({key:e,stationID:e,index:a},t,{handleShowChange:t.handleShowChange})))})),t.hasLoaded&&t.stations.length<50&&i.a.createElement("div",null,i.a.createElement("h3",{className:"load-more",onClick:function(){return t.loadMoreStations()}},"Load More Stations"),i.a.createElement("br",null)))};var Q=function(t){return i.a.createElement("div",{className:"footer"},"Mobile"===t.view?i.a.createElement("div",{style:{height:30}}):i.a.createElement("div",{style:{height:5}}),t.hasLoaded&&i.a.createElement("p",{style:{textAlign:"center",color:"#313131",marginBottom:-10,padding:0}},"Made by Ken Yokokawa. Source code on ",i.a.createElement("a",{href:"https://github.com/ky1044/Bikeable",style:{color:"#313131"}},"Github"),"."),"Mobile"===t.view&&i.a.createElement("div",{style:{height:5}}))};var X=function(t){return i.a.createElement("div",null,t.hasLoaded?i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{name:"stationListContainer",className:"left-content"},i.a.createElement("div",{className:"left-top"},i.a.createElement("div",{className:"mobile-container",style:{color:"#aaaaaa"}},i.a.createElement("h4",{style:{float:"left"}},t.time,", ",t.date),i.a.createElement("h4",{style:{float:"right"}},t.temperature,", ",t.weather))),i.a.createElement("div",{style:{padding:5,textAlign:"left"}},i.a.createElement(P,Object.assign({},t,{handleShowChange:t.handleShowChange,loadMoreStations:t.loadMoreStations})))),i.a.createElement("div",{className:"right-content",style:{textAlign:"left"}},i.a.createElement("div",{className:"right-top",style:{padding:5}},i.a.createElement(M,Object.assign({},t,{handleLocationChange:t.handleLocationChange}))),i.a.createElement("div",{className:"toggle",style:{marginTop:3,float:"right"},onClick:t.handleMapToggle},t.showMap?"hide map \u2227":"show map \u2228"),i.a.createElement("div",{style:{padding:5,clear:"both"}},t.showMap&&i.a.createElement(N,Object.assign({},t,{handleMapClick:t.handleMapClick,handleMapLocationChange:t.handleMapLocationChange}))))):i.a.createElement("h2",{style:{textAlign:"center"}},"Loading..."))},V="http://flask-env.eba-zsqmm3jt.us-east-2.elasticbeanstalk.com/",H=function(t){Object(g.a)(a,t);var e=Object(b.a)(a);function a(){var t;return Object(d.a)(this,a),(t=e.call(this)).state={selectedLocation:"Union Square Park",selectedLocationLatitude:40.7359,selectedLocationLongitude:-73.9911,locationCoordinates:{"Washington Square Park":{latitude:40.7308,longitude:-73.9973},"Union Square Park":{latitude:40.7359,longitude:-73.9911},"Times Square":{latitude:40.758,longitude:-73.9911},"Bowling Green":{latitude:40.705,longitude:-74.0137},"The MET":{latitude:40.7794,longitude:-73.9632},"Penn Station":{latitude:40.7506,longitude:-73.9935}},numStations:10,time:"",date:"",weather:"",temperature:"",stations:[],initialBikeCount:{},status:{},showInfo:{},dayLog:{},weekLog:{},hasLoaded:!1,showMap:!1,mapStation:null,loadTime:null,updateTime:null,mapClickTime:null,timeSinceUpdate:null,timeSinceLoad:null,timeSinceMapClick:null,windowHeight:0,windowWidth:0,view:null},t.getStationStatus=t.getStationStatus.bind(Object(p.a)(t)),t.setStationStatus=t.setStationStatus.bind(Object(p.a)(t)),t.getStationDayLog=t.getStationDayLog.bind(Object(p.a)(t)),t.setStationDayLog=t.setStationDayLog.bind(Object(p.a)(t)),t.getStationWeekLog=t.getStationWeekLog.bind(Object(p.a)(t)),t.setStationWeekLog=t.setStationWeekLog.bind(Object(p.a)(t)),t.handleMapLocationChange=t.handleMapLocationChange.bind(Object(p.a)(t)),t.handleLocationChange=t.handleLocationChange.bind(Object(p.a)(t)),t.handleMapToggle=t.handleMapToggle.bind(Object(p.a)(t)),t.handleMapClick=t.handleMapClick.bind(Object(p.a)(t)),t.handleShowChange=t.handleShowChange.bind(Object(p.a)(t)),t.loadMoreStations=t.loadMoreStations.bind(Object(p.a)(t)),t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(p.a)(t)),t}return Object(m.a)(a,[{key:"getStationStatus",value:function(){var t=this;fetch("".concat(V,"stationstatus/").concat(this.state.numStations,"/").concat(this.state.selectedLocationLatitude,",").concat(this.state.selectedLocationLongitude)).then((function(t){return t.json()})).then((function(e){return t.setStationStatus(e)}))}},{key:"setStationStatus",value:function(t){var e=this,a=t.stationStatus.map((function(t){return t.id}));this.state.loadTime||this.setState({loadTime:Date.now()}),this.setState({updateTime:Date.now(),date:t.date,time:t.time,temperature:t.weatherTemperature,weather:t.weatherDescription});for(var n=function(n){e.setState((function(e){return{status:Object(h.a)({},e.status,Object(u.a)({},a[n],t.stationStatus[n]))}})),a[n]in e.state.initialBikeCount||e.setState((function(t){return{showInfo:Object(h.a)({},t.showInfo,Object(u.a)({},a[n],!1)),initialBikeCount:Object(h.a)({},t.initialBikeCount,Object(u.a)({},a[n],e.state.status[a[n]].bikes))}}))},i=0;i<a.length;i++)n(i);this.setState({stations:a}),this.setState({hasLoaded:!0}),console.log("updated station status")}},{key:"getStationDayLog",value:function(t){var e=this;fetch("".concat(V,"stationlog/").concat(t)).then((function(t){return t.json()})).then((function(a){return e.setStationDayLog(a,t)}))}},{key:"setStationDayLog",value:function(t,e){this.setState((function(a){return{dayLog:Object(h.a)({},a.dayLog,Object(u.a)({},e,t.stationLog))}}))}},{key:"getStationWeekLog",value:function(t){var e=this;fetch("".concat(V,"stationlogweek/").concat(t)).then((function(t){return t.json()})).then((function(a){return e.setStationWeekLog(a,t)}))}},{key:"setStationWeekLog",value:function(t,e){this.setState((function(a){return{weekLog:Object(h.a)({},a.weekLog,Object(u.a)({},e,t.stationLog))}}))}},{key:"handleMapLocationChange",value:function(){var t=Object(l.a)(r.a.mark((function t(e,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState((function(t){return{selectedLocation:"Custom Location",selectedLocationLatitude:e.toFixed(5),selectedLocationLongitude:a.toFixed(5),numStations:10,stations:[],initialBikeCount:{},status:{},showInfo:{},dayLog:{},weekLog:{},hasLoaded:!1,mapStation:null,loadTime:null,updateTime:null,mapClickTime:null,timeSinceUpdate:null,timeSinceLoad:null,timeSinceMapClick:null}}));case 2:this.getStationStatus();case 3:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"handleLocationChange",value:function(){var t=Object(l.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState((function(t){return{selectedLocation:e,selectedLocationLatitude:t.locationCoordinates[e].latitude,selectedLocationLongitude:t.locationCoordinates[e].longitude,numStations:10,stations:[],initialBikeCount:{},status:{},showInfo:{},dayLog:{},weekLog:{},hasLoaded:!1,mapStation:null,loadTime:null,updateTime:null,mapClickTime:null,timeSinceUpdate:null,timeSinceLoad:null,timeSinceMapClick:null}}));case 2:this.getStationStatus();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleMapToggle",value:function(){this.setState((function(t){return{showMap:!t.showMap}}))}},{key:"handleMapClick",value:function(){var t=Object(l.a)(r.a.mark((function t(e,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState((function(t){return{mapStation:a,mapClickTime:Date.now(),showInfo:Object(h.a)({},t.showInfo,Object(u.a)({},a,!0))}}));case 2:this.getStationDayLog(a),this.getStationWeekLog(a);case 4:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"handleShowChange",value:function(){var t=Object(l.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState((function(t){var a=!t.showInfo[e];return{showInfo:Object(h.a)({},t.showInfo,Object(u.a)({},e,a))}}));case 2:this.getStationDayLog(e),this.getStationWeekLog(e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadMoreStations",value:function(){var t=Object(l.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState((function(t){return{numStations:t.numStations+10}}));case 2:this.getStationStatus();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updateWindowDimensions",value:function(){this.setState((function(t){var e=t.showMap||"Desktop"!==t.view&&window.innerWidth>820;return{windowWidth:window.innerWidth,windowHeight:window.innerHeight,view:window.innerWidth>820?"Desktop":"Mobile",showMap:e}}))}},{key:"componentDidMount",value:function(){var t=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions),this.setState({showMap:window.innerWidth>820}),this.getStationStatus(),setInterval((function(){return t.setState((function(t){return{timeSinceUpdate:Date.now()-t.updateTime,timeSinceLoad:Date.now()-t.loadTime}}))}),100),setInterval((function(){return t.setState((function(t){return{timeSinceMapClick:Date.now()-t.mapClickTime}}))}),10),setInterval((function(){return t.getStationStatus()}),3e4)}},{key:"render",value:function(){return"Desktop"===this.state.view?i.a.createElement("div",null,i.a.createElement(w,this.state),i.a.createElement(X,Object.assign({},this.state,{handleLocationChange:this.handleLocationChange,handleMapClick:this.handleMapClick,handleMapLocationChange:this.handleMapLocationChange,handleMapToggle:this.handleMapToggle,handleShowChange:this.handleShowChange,loadMoreStations:this.loadMoreStations})),i.a.createElement(Q,this.state)):i.a.createElement("div",null,i.a.createElement(w,this.state),i.a.createElement("div",{style:{width:"min(90vw,800px)",margin:"auto"}},i.a.createElement(Z,Object.assign({},this.state,{handleLocationChange:this.handleLocationChange,handleMapClick:this.handleMapClick,handleMapLocationChange:this.handleMapLocationChange,handleMapToggle:this.handleMapToggle})),i.a.createElement(P,Object.assign({},this.state,{handleShowChange:this.handleShowChange,loadMoreStations:this.loadMoreStations}))),i.a.createElement(Q,this.state))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.1b93ecd4.chunk.js.map