{"ast":null,"code":"import _classCallCheck from\"/Users/keny/Desktop/Programming/Bikeable/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/keny/Desktop/Programming/Bikeable/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/keny/Desktop/Programming/Bikeable/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/keny/Desktop/Programming/Bikeable/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/keny/Desktop/Programming/Bikeable/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{LineChart,Line,CartesianGrid,XAxis,YAxis,Tooltip,ResponsiveContainer,ReferenceLine,Label,Dot}from'recharts';var WeekChart=/*#__PURE__*/function(_React$Component){_inherits(WeekChart,_React$Component);var _super=_createSuper(WeekChart);function WeekChart(props){var _this;_classCallCheck(this,WeekChart);_this=_super.call(this,props);_this.makeDayArray=_this.makeDayArray.bind(_assertThisInitialized(_this));return _this;}_createClass(WeekChart,[{key:\"makeDayArray\",value:function makeDayArray(array){var _this2=this;return array.map(function(numBikes,index){if(numBikes===-1){return{\"time\":_this2.props.weekLog[_this2.props.stationID][\"times\"][index],\"bikes\":undefined};}else{return{\"time\":_this2.props.weekLog[_this2.props.stationID][\"times\"][index],\"bikes\":numBikes};}}).filter(function(time){return time!==undefined;});}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){return nextProps.showInfo!==this.props.showInfo||nextProps.weekLog!==this.props.weekLog;}},{key:\"render\",value:function render(){var _this3=this;var chartData=[{name:\"Monday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesMonday\"])},{name:\"Tuesday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesTuesday\"])},{name:\"Wednesday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesWednesday\"])},{name:\"Thursday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesThursday\"])},{name:\"Friday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesFriday\"])},{name:\"Saturday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesSaturday\"])},{name:\"Sunday\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesSunday\"])},{name:\"Today\",data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesToday\"])}];var xTicks=chartData&&this.props.weekLog[this.props.stationID][\"times\"].filter(function(time){return time.substring(time.length-2)===\"00\";}).concat(chartData.map(function(log){return log.time;})[chartData.length-1]);var yTicks=this.props.status&&[0,10,20,30,40,50,60,70,80,90,100].filter(function(x){return x<_this3.props.status[_this3.props.stationID].docks;}).concat([this.props.status[this.props.stationID].docks]);var times=chartData&&chartData[7][\"data\"].filter(function(a){return a!==undefined;}).filter(function(a){return a[\"bikes\"]!==undefined;});var timeNow=times[times.length-1][\"time\"];var CustomDot=function CustomDot(props){var payload=props.payload,cx=props.cx,cy=props.cy,key=props.key;return payload.time===timeNow&&/*#__PURE__*/React.createElement(Dot,{key:key,cx:cx,cy:cy,r:5,fill:\"white\"});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",{align:\"center\"},\"bike count of past week (every 30 mins)\"),/*#__PURE__*/React.createElement(ResponsiveContainer,{width:\"100%\",height:200},/*#__PURE__*/React.createElement(LineChart,{data:chartData,margin:{top:5,right:30,bottom:5,left:0}},/*#__PURE__*/React.createElement(CartesianGrid,{stroke:\"#222222\"}),/*#__PURE__*/React.createElement(ReferenceLine,{x:timeNow,stroke:\"white\",label:/*#__PURE__*/React.createElement(Label,{angle:270,offset:10,value:\"current time\",position:\"insideLeft\",style:{textAnchor:'middle',fontSize:'80%',fill:\"#444444\"}})}),/*#__PURE__*/React.createElement(XAxis,{dataKey:\"time\",allowDuplicatedCategory:false,ticks:xTicks}),/*#__PURE__*/React.createElement(YAxis,{dataKey:\"bikes\",domain:[0,this.props.status[this.props.stationID].docks],ticks:yTicks}),chartData.map(function(s){return/*#__PURE__*/React.createElement(Line,{dataKey:\"bikes\",data:s.data,name:s.name,key:s.name,dot:s.name===\"Today\"&&CustomDot,isAnimationActive:true,type:\"monotone\",stroke:\"#00deff\",strokeWidth:s.name===\"Today\"?5:4,animationDuration:500,opacity:s.name===\"Today\"?1:0.5});}),/*#__PURE__*/React.createElement(Tooltip,{wrapperStyle:{color:\"black\"},itemStyle:{color:\"black\"},animationEasing:\"ease\"}))));}}]);return WeekChart;}(React.Component);export default WeekChart;","map":{"version":3,"sources":["/Users/keny/Desktop/Programming/Bikeable/frontend/src/components/WeekChart.js"],"names":["React","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","ResponsiveContainer","ReferenceLine","Label","Dot","WeekChart","props","makeDayArray","bind","array","map","numBikes","index","weekLog","stationID","undefined","filter","time","nextProps","nextState","showInfo","chartData","name","data","xTicks","substring","length","concat","log","yTicks","status","x","docks","times","a","timeNow","CustomDot","payload","cx","cy","key","top","right","bottom","left","textAnchor","fontSize","fill","s","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip ,ResponsiveContainer,ReferenceLine,Label,Dot} from 'recharts';\n\n\nclass  WeekChart extends React.Component{\n\n    constructor(props) {\n        super(props);\n        this.makeDayArray = this.makeDayArray.bind(this)\n    }\n\n\n    makeDayArray(array){\n        return array.map((numBikes, index)=>{\n            if (numBikes===-1){\n                return {\"time\":this.props.weekLog[this.props.stationID][\"times\"][index],\"bikes\":undefined}\n            }else{\n                return {\"time\":this.props.weekLog[this.props.stationID][\"times\"][index],\"bikes\":numBikes}\n\n            }\n        }).filter( time=>time!==undefined)\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return  nextProps.showInfo!==this.props.showInfo||nextProps.weekLog!==this.props.weekLog ;    \n      }\n\n    \n    render(){\n        let chartData = [\n            \n            {\n                name:\"Monday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesMonday\"])\n            },\n            {\n                name:\"Tuesday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesTuesday\"])\n            },\n            {\n                name:\"Wednesday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesWednesday\"])\n            },\n            {\n                name:\"Thursday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesThursday\"])\n            },\n            {\n                name:\"Friday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesFriday\"])\n            },\n            {\n                name:\"Saturday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesSaturday\"])\n            },\n            {\n                name:\"Sunday\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesSunday\"])\n            },\n            {\n                name:\"Today\",\n                data:this.makeDayArray(this.props.weekLog[this.props.stationID][\"bikesToday\"])\n            }\n\n        ]\n        \n        \n\n\n        \n\n\n        let xTicks = chartData && this.props.weekLog[this.props.stationID][\"times\"].filter(time => time.substring(time.length-2) ===\"00\").concat(chartData.map(log=>log.time)[chartData.length-1])\n        let yTicks =this.props.status && [0,10,20,30,40,50,60,70,80,90,100].filter(x=>x<this.props.status[this.props.stationID].docks).concat([this.props.status[this.props.stationID].docks])\n\n        let times = chartData&&chartData[7][\"data\"].filter(a=>a!==undefined).filter(a=>a[\"bikes\"]!==undefined)\n\n        let timeNow = times[times.length-1][\"time\"]\n\n        const CustomDot = (props) => {\n            const {payload,cx,cy ,key} = props;\n            return payload.time===timeNow&&<Dot key={key} cx={cx}cy={cy}r={5} fill=\"white\"/>\n        }\n        \n\n        return(\n            <div>\n                <h4 align =\"center\">bike count of past week (every 30 mins)</h4>\n                <ResponsiveContainer width=\"100%\" height={200}>\n                    <LineChart  data={chartData} margin={{ top: 5, right: 30, bottom: 5, left: 0 }}>\n                    \n                    <CartesianGrid  stroke=\"#222222\" />\n                    <ReferenceLine x={timeNow} stroke=\"white\" label={<Label angle = {270} offset={10} value=\"current time\" position='insideLeft' style={{ textAnchor: 'middle', fontSize: '80%', fill: \"#444444\"}}/>}/>\n                    <XAxis dataKey=\"time\" allowDuplicatedCategory={false} ticks ={xTicks}/>\n                    <YAxis  dataKey=\"bikes\" domain={[0, this.props.status[this.props.stationID].docks]} ticks = {yTicks}/>\n                    {chartData.map(s => (\n                        <Line dataKey=\"bikes\" data={s.data} name={s.name} key={s.name} dot = {s.name===\"Today\"&&CustomDot} isAnimationActive ={true}  type=\"monotone\" stroke=\"#00deff\" strokeWidth={s.name===\"Today\"?5:4} animationDuration={500} opacity={s.name===\"Today\"?1:0.5} />\n                    ))}\n                    <Tooltip wrapperStyle = {{color:\"black\"}} itemStyle = {{color:\"black\"}} animationEasing = \"ease\"/>\n                    </LineChart>\n                </ResponsiveContainer>\n\n            </div>\n        )\n    }\n    }\nexport default WeekChart"]},"metadata":{},"sourceType":"module"}